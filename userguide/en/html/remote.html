<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;10.&nbsp;Remote communition</title><link rel="stylesheet" href="css/html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.65.1"><link rel="home" href="index.html" title="Fungal User's Guide"><link rel="up" href="index.html" title="Fungal User's Guide"><link rel="previous" href="classloading.html" title="Chapter&nbsp;9.&nbsp;Classloading"><link rel="next" href="usage.html" title="Chapter&nbsp;11.&nbsp;Usage"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;10.&nbsp;Remote communition</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="classloading.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="usage.html">Next</a></td></tr></table><hr></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="remote"></a>Chapter&nbsp;10.&nbsp;Remote communition</h2></div></div><div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="remote_protocol"></a>10.1.&nbsp;Remote protocol</h2></div></div><div></div></div><p>Fungal features a remote protocol to allow for example deployment
        and undeployment of archives.</p><p>The protocol is based on the <tt class="code">java.io.ObjectInputStream</tt> and 
        <tt class="code">java.io.ObjectOutputStream</tt> format over a standard <tt class="code">java.net.Socket</tt>
        connection.</p><p>The protocol consist of two parts</p><div class="orderedlist"><ol type="1"><li>The name of the command</li><li>The arguments for the command</li></ol></div><p>The arguments is optional if the command doesn't take any.</p><p>All commands return a <tt class="code">java.io.Serializable</tt> which represents the 
        result of running the command.</p><p>The name of the command is written using <tt class="code">writeUTF()</tt> and read using
        <tt class="code">readUTF()</tt>.</p><p>Each of the arguments is written using <tt class="code">writeObject()</tt> and read using
        <tt class="code">readObject()</tt>.</p><p>The kernel must be configured with <tt class="code">KernelConfiguration.remoteAccess(true)</tt>
        in order to enable remote access.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="remote_protocol_builtin"></a>10.2.&nbsp;Built-in commands</h2></div></div><div></div></div><p>If remote access is enabled in the kernel then the following commands are enabled.</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="fungal_remote_protocol_help"></a>10.2.1.&nbsp;Help</h3></div></div><div></div></div><p>Displays the available commands.</p><div class="table"><a name="d0e612"></a><p class="title"><b>Table&nbsp;10.1.&nbsp;Help: Input</b></p><table summary="Help: Input" border="1"><colgroup><col align="left"><col align="left"><col align="left"></colgroup><thead><tr><th align="left">Type</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">UTF</td><td align="left"><tt class="code">help</tt></td><td align="left">Command name</td></tr></tbody></table></div><div class="table"><a name="d0e636"></a><p class="title"><b>Table&nbsp;10.2.&nbsp;Help: Output</b></p><table summary="Help: Output" border="1"><colgroup><col align="left"><col align="left"><col align="left"></colgroup><thead><tr><th align="left">Type</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">OBJECT</td><td align="left">&lt;message&gt;</td><td align="left">List of available commands</td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="fungal_remote_protocol_deploy"></a>10.2.2.&nbsp;Deploy</h3></div></div><div></div></div><p>Deploys a file.</p><div class="table"><a name="d0e664"></a><p class="title"><b>Table&nbsp;10.3.&nbsp;Deploy: Input</b></p><table summary="Deploy: Input" border="1"><colgroup><col align="left"><col align="left"><col align="left"></colgroup><thead><tr><th align="left">Type</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">UTF</td><td align="left"><tt class="code">deploy</tt></td><td align="left">Command name</td></tr><tr><td align="left">OBJECT</td><td align="left">&lt;file url&gt;</td><td align="left">Location of the deployment unit as an <tt class="code">java.net.URL</tt></td></tr></tbody></table></div><div class="table"><a name="d0e697"></a><p class="title"><b>Table&nbsp;10.4.&nbsp;Deploy: Output</b></p><table summary="Deploy: Output" border="1"><colgroup><col align="left"><col align="left"><col align="left"></colgroup><thead><tr><th align="left">Type</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">OBJECT</td><td align="left">&lt;message&gt;</td><td align="left">Empty string if successful. Otherwise error description</td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="fungal_remote_protocol_undeploy"></a>10.2.3.&nbsp;Undeploy</h3></div></div><div></div></div><p>Undeploys a file.</p><div class="table"><a name="d0e725"></a><p class="title"><b>Table&nbsp;10.5.&nbsp;Undeploy: Input</b></p><table summary="Undeploy: Input" border="1"><colgroup><col align="left"><col align="left"><col align="left"></colgroup><thead><tr><th align="left">Type</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">UTF</td><td align="left"><tt class="code">undeploy</tt></td><td align="left">Command name</td></tr><tr><td align="left">OBJECT</td><td align="left">&lt;file url&gt;</td><td align="left">Location of the deployment unit as an <tt class="code">java.net.URL</tt></td></tr></tbody></table></div><div class="table"><a name="d0e758"></a><p class="title"><b>Table&nbsp;10.6.&nbsp;Undeploy: Output</b></p><table summary="Undeploy: Output" border="1"><colgroup><col align="left"><col align="left"><col align="left"></colgroup><thead><tr><th align="left">Type</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">OBJECT</td><td align="left">&lt;message&gt;</td><td align="left">Empty string if successful. Otherwise error description</td></tr></tbody></table></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="remote_protocol_internal"></a>10.3.&nbsp;Internal commands</h2></div></div><div></div></div><p>The following internal commands are available.</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="fungal_remote_protocol_getcommand"></a>10.3.1.&nbsp;GetCommand</h3></div></div><div></div></div><p>Get the parameter types for a command.</p><div class="table"><a name="d0e791"></a><p class="title"><b>Table&nbsp;10.7.&nbsp;GetCommand: Input</b></p><table summary="GetCommand: Input" border="1"><colgroup><col align="left"><col align="left"><col align="left"></colgroup><thead><tr><th align="left">Type</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">UTF</td><td align="left"><tt class="code">getcommand</tt></td><td align="left">Command name</td></tr><tr><td align="left">OBJECT</td><td align="left">&lt;command&gt;</td><td align="left">The name of the command</td></tr></tbody></table></div><div class="table"><a name="d0e822"></a><p class="title"><b>Table&nbsp;10.8.&nbsp;GetCommand: Output</b></p><table summary="GetCommand: Output" border="1"><colgroup><col align="left"><col align="left"><col align="left"></colgroup><thead><tr><th align="left">Type</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">OBJECT</td><td align="left">&lt;parameters&gt;</td><td align="left">The list of parameter types (<tt class="code">Class[]</tt>). Or <tt class="code">null</tt> if none.</td></tr></tbody></table></div></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="classloading.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="index.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="usage.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;9.&nbsp;Classloading&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;11.&nbsp;Usage</td></tr></table></div></body></html>